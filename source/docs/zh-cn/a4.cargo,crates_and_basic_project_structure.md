title: Cargoï¼ŒCratesäºåŸºæœ¬çš„é¡¹ç›®ç»“æ„
---

## Cargo

Cargoæ˜¯Rustå†…å»ºçš„åŒ…ç®¡ç†å™¨ï¼Œä¸»è¦å¯ä»¥ç”¨æ¥ï¼š

- åˆ›å»ºæ–°é¡¹ç›®ï¼š`cargo new`
- æ›´æ–°ä¾èµ–é¡¹: `cargo update`
- æ‰“åŒ…é¡¹ç›®: `cargo build`
- è§£æé¡¹ç›®æ˜¯å¦å­˜åœ¨ä»»ä½•å¼‚å¸¸ï¼Œä½†å¹¶ä¸è¿›è¡Œæ‰“åŒ…: `cargo check`
- æ‰“åŒ…å¹¶è¿è¡Œé¡¹ç›®: `cargo run`  
- æ‰§è¡Œæµ‹è¯•: `cargo test`  
- é€šè¿‡rustdocç”Ÿæˆæ–‡æ¡£: `cargo doc`

é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€äº›Cargoçš„å‘½ä»¤ï¼Œä¸»è¦åœ¨é€šè¿‡Cargoæ¥å‘å¸ƒcrateåŒ…æ—¶ä½¿ç”¨ã€‚

- `cargo login` : è·å–ä¸€ä¸ªAPI token
- `cargo package` : å‡†å¤‡æœ¬åœ°çš„crateä»¥å¤‡ä¸Šä¼ è‡³crates.io  
- `cargo publish` : å‡†å¤‡æœ¬åœ°çš„crateï¼Œå¹¶ä¸Šä¼ åˆ°crates.io

## Crate

â­ï¸ **ä¸€ä¸ªcrateä»£è¡¨ä¸€ä¸ªä»£ç åŒ…ã€‚CratesåŒ…å¯ä»¥é€šè¿‡[Cargo](https://crates.io/)è¿›è¡Œåˆ†äº«ã€‚**


ä¸€ä¸ªcrateåŒ…å¯ä»¥æ˜¯ä¸€ä¸ªå¯æ‰§è¡ŒåŒ…æˆ–æ˜¯ä¸€ä¸ªåº“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªcrateæˆ–æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œé¡¹ç›®ï¼Œæˆ–æ˜¯ä¸€ä¸ªåº“ã€‚
01.  `cargo new crate_name --bin` æˆ– `cargo new crate_name`: ç”Ÿæˆä¸€ä¸ª**å¯æ‰§è¡Œé¡¹ç›®**  
02.  `cargo new crate_name --lib` : ç”Ÿæˆä¸€ä¸ª**åº“**

ç¬¬ä¸€ä¸ªå‘½ä»¤ä¼šç”Ÿæˆï¼š

```
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
    â””â”€â”€ main.rs
```

ç¬¬äºŒä¸ªä¼šç”Ÿæˆï¼š

```
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
    â””â”€â”€ lib.rs
```

* **Cargo.toml**\(å¤§å†™c\)å­˜æ”¾äº†å½“Cargoç”¨æ¥ç¼–è¯‘æ‚¨çš„é¡¹ç›®æ‰€éœ€çš„å…ƒä¿¡æ¯ã€‚
* **src**ç›®å½•ç”¨æ¥å­˜æ”¾æ‚¨çš„æºä»£ç ã€‚
* æ¯ä¸ªcrateåŒ…ä¼šæœ‰ä¸€ä¸ªæš—ç¤ºæ€§çš„åŒ…å…¥å£ã€‚**main.rs**æ˜¯äºŒè¿›åˆ¶crateåŒ…çš„å…¥å£ï¼Œè€Œ**lib.rs**åˆ™æ˜¯crateåº“åŒ…çš„å…¥å£ã€‚

> ğŸ’¡ å½“éœ€è¦ä½¿ç”¨`cargo build`æˆ–`cargo run`æ¥ç¼–è¯‘ä¸€ä¸ªäºŒè¿›åˆ¶åŒ…æ—¶ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ä¼šè¢«å­˜æ”¾åœ¨**target/debug/**æ–‡ä»¶å¤¹ä¸‹ã€‚ä½†å½“ä½¿ç”¨`cargo build --release`æ¥æ‰“åŒ…ä¸€ä¸ªç”Ÿäº§é‡Šæ”¾åŒ…çš„æ—¶å€™ï¼Œåˆ™ä¼šè¢«å­˜æ”¾åœ¨**target/release/**æ–‡ä»¶å¤¹ä¸‹ã€‚

## Project Structure

ä»¥ä¸‹æ˜¯[Cargoæ–‡æ¡£æè¿°](http://doc.crates.io/guide.html#project-layout)ä¸­æ¨èçš„é¡¹ç›®å¸ƒå±€ï¼Œ

```
.
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ benches
â”‚   â””â”€â”€ large-input.rs
â”œâ”€â”€ examples
â”‚   â””â”€â”€ simple.rs
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ bin
â”‚   â”‚   â””â”€â”€ another_executable.rs
â”‚   â”œâ”€â”€ lib.rs
â”‚   â””â”€â”€ main.rs
â””â”€â”€ tests
    â””â”€â”€ some-integration-tests.rs
```

- æºä»£ç åº”æ”¾åœ¨`src`æ–‡ä»¶å¤¹ä¸­ã€‚  
- é»˜è®¤çš„åº“å…¥å£æ–‡ä»¶ä¸º`src/lib.rs`ã€‚
- é»˜è®¤çš„å¯æ‰§è¡Œå…¥å£æ–‡ä»¶ä¸º`src/main.rs`ã€‚  
- å…¶ä½™çš„å¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥æ”¾åœ¨`src/bin/*.rs`ä¸­ã€‚  
- é›†æˆæµ‹è¯•æ–‡ä»¶å¯ä»¥æ”¾åœ¨`tests`æ–‡ä»¶å¤¹ä¸­ \(å•å…ƒæµ‹è¯•ä¼šæ”¾åœ¨æ¯ä¸ªæ–‡ä»¶è‡ªèº«ä¸­\)ã€‚
- æ ·ä¾‹åº”æ”¾åœ¨`examples`ç›®å½•ä¸­ã€‚
- å‹åŠ›æµ‹è¯•åº”æ”¾åœ¨`benches`æ–‡ä»¶å¤¹ä¸­ã€‚
