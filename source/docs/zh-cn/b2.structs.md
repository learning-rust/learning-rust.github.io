title: Structs
---

â­ï¸ ç»“æ„ - Structs è¢«ç”¨ä»¥**å°†æœ‰æ‰€å…³è”çš„å±æ€§å°è£…å…¥ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®ç±»å‹ä¸­**ã€‚

ğŸ’¡ ä¹ æƒ¯æ¥è¯´ï¼Œä¸€ä¸ªç»“æ„ä½“çš„åç§°ä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¯å¹¶éµå¾ª**CamelCase**å‘½åä¹ æƒ¯ã€‚

å¤§è‡´æœ‰ä¸‰ç§ä¸åŒç±»å‹çš„ç»“æ„ä½“ï¼š  
1. **ç±»Cç»“æ„ä½“**
  * ä¸€ä¸ªæˆ–å¤šä¸ªç”±åŠè§’é€—å·åˆ†å‰²çš„name:valueå¯¹æ„æˆ
  * ç”±èŠ±æ‹¬å·åŒ…è£¹brace-enclosed  list
  * ç±»ä¼¼äºé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„classç±»ï¼Œä½†ä¸åŒ…å«æ–¹æ³•similar to classes \(without its methods\) in OOP languages
  * å› ä¸ºæ¯ä¸ªå­—æ®µéƒ½ä¼šæŒ‡å®šåç§°ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡*ç‚¹å±æ€§æ ‡è®°æ³•*é€‰æ‹©å„å­—æ®µ

2. **å…ƒç»„ç»“æ„ä½“**
  * ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåŠè§’é€—å·åˆ†å‰²ä¸åŒçš„å€¼
  * ç”¨åœ†æ‹¬å·åŒ…è£¹æˆå‘˜parenthesized list like tuples
  * çœ‹èµ·æ¥åƒä¸€ä¸ªå‘½åçš„å…ƒç»„looks like a named tuples

3. **å•ä½ç»“æ„ä½“**
  * ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æˆå‘˜çš„ç»“æ„ä½“a struct with no members at all
  * ç”¨æ¥å®šä¹‰ä¸€ä¸ªç±»ä¼¼ç©ºå…ƒç»„çš„æ–°ç±»å‹it defines a new type but it resembles an empty tuple, \(\)
  * ä½¿ç”¨åœºæ™¯æœ‰é™ï¼Œå¤šç”¨äºèŒƒå‹ä¸­rarely in use,  useful with generics

â­ï¸ åœ¨ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€æƒ³è€ƒè™‘Rustæ—¶ï¼Œå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•å¤§è‡´å¯¹åº”äº**ç»“æ„ä½“ - structs**å’Œ**ç‰¹æ€§ - traits**ã€‚ç»“æ„ä½“ä»…åŒ…å«å±æ€§è€Œç‰¹æ€§åˆ™ä»…åŒ…å«æ–¹æ³•ã€‚è¿™äºŒè€…å¯ä»¥é€šè¿‡**impls**å®ç°è¿æ¥åœ¨ä¸€èµ·ã€‚

>ğŸ’¡æ›´å¤æ‚çš„ä¾‹å­å¯ä»¥åœ¨[ç‰¹æ€§ä¸å®ç°](b5.impls_and_traits.html), [ç”Ÿå‘½å‘¨æœŸ](c3.lifetimes.html)å’Œ[æ¨¡å—](d3.modules.html)ç­‰ç« èŠ‚è¿›è¡ŒæŸ¥çœ‹.

## ç±»Cç»“æ„ä½“

```rust
// ç»“æ„ä½“å£°æ˜
struct Color {
    red: u8,
    green: u8,
    blue: u8
}

fn main() {
  // åˆ›å»ºä¸€ä¸ªç»“æ„ä½“å®ä¾‹
  let black = Color {red: 0, green: 0, blue: 0};

  // ä½¿ç”¨ç‚¹è®°æ³•å–å¾—å­—æ®µ
  println!("Black = rgb({}, {}, {})", black.red, black.green, black.blue); //Black = rgb(0, 0, 0)

  // é»˜è®¤æƒ…å†µä¸‹ï¼Œç»“æ„ä½“æ˜¯ä¸å¯å˜çš„ï¼Œä½¿ç”¨`mut`å…³é”®å­—å¯ä½¿ç»“æ„ä½“å¯å˜ï¼Œä½†å¹¶ä¸æ”¯æŒå­—æ®µçº§åˆ«çš„å¯å˜æ€§å£°æ˜
  let mut link_color = Color {red: 0,green: 0,blue: 255};
  link_color.blue = 238;
  println!("Link Color = rgb({}, {}, {})", link_color.red, link_color.green, link_color.blue); //Link Color = rgb(0, 0, 238)

  // ä»å¦ä¸€ä¸ªå®ä¾‹ä¸­å¤åˆ¶å…ƒç´ 
  let blue = Color {blue: 255, .. link_color};
  println!("Blue = rgb({}, {}, {})", blue.red, blue.green, blue.blue); //Blue = rgb(0, 0, 255)

  // ä½¿ç”¨`let`å…³é”®å­—è¿›è¡Œè§£æ„ç»‘å®šï¼Œä¸‹ä¾‹è§£æ„äº†blueå®ä¾‹
  let Color {red: r, green: g, blue: b} = blue;
  println!("Blue = rgb({}, {}, {})", r, g, b); //Blue = rgb(0, 0, 255)

  // é€šè¿‡æŸå‡½æ•°åˆ›å»ºå®ä¾‹å¹¶è®¿é—®å…¶å­—æ®µ
  let midnightblue = get_midnightblue_color();
  println!("Midnight Blue = rgb({}, {}, {})", midnightblue.red, midnightblue.green, midnightblue.blue); //Midnight Blue = rgb(25, 25, 112)

  // é€šè¿‡`let`å…³é”®å­—è§£æ„ç»‘å®šä¸€ä¸ªColorå®ä¾‹
  let Color {red: r, green: g, blue: b} = get_midnightblue_color();
  println!("Midnight Blue = rgb({}, {}, {})", r, g, b); //Midnight Blue = rgb(25, 25, 112)
}

fn get_midnightblue_color() -> Color {
    Color {red: 25, green: 25, blue: 112}
}
```

## å…ƒç»„ç»“æ„ä½“Tuple structs

â­ï¸ å½“å…ƒç»„ç»“æ„ä½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º**æ–°ç±»å‹æ¨¡å¼**ï¼Œå› ä¸ºå®ƒå¸®åŠ©åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç±»å‹ã€‚

```rust
struct Color (u8, u8, u8);
struct Kilometers(i32);

fn main() {
  // åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹
  let black = Color (0, 0, 0);

  // ç”¨letå…³é”®å­—è¿›è¡Œç»“æ„ç»‘å®š
  let Color (r, g, b) = black;
  println!("Black = rgb({}, {}, {})", r, g, b); //black = rgb(0, 0, 0);

  // æ–°ç±»å‹æ¨¡å¼
  let distance = Kilometers(20);
  // ä½¿ç”¨`let`å…³é”®å­—è¿›è¡Œç»“æ„ç»‘å®š
  let Kilometers(distance_in_km) = distance;
  println!("The distance: {} km", distance_in_km); //The distance: 20 km
}
```

## å•å…ƒç»“æ„ä½“

ç‹¬ç«‹ä½¿ç”¨è¿™ä¸€ç»“æ„ä½“çš„åœºæ™¯è¾ƒå°‘ï¼Œä½†å½“å…¶ä¸å…¶ä»–ç‰¹æ€§ç›¸ç»“åˆæ—¶åˆ™å˜å¾—æœ‰ç”¨èµ·æ¥ã€‚

> [ğŸ“–](https://doc.rust-lang.org/book/first-edition/structs.html) ä¾‹å¦‚ï¼šä¸€ä¸ªåº“å¯èƒ½éœ€è¦ä¸ºæŸç±»å‹å®ç°ç‰¹å®šçš„ç‰¹æ€§ï¼Œä»¥å¤„ç†ä¸€äº›åœºæ™¯ã€‚å¦‚æœä½ å¹¶ä¸éœ€è¦åœ¨ç»“æ„ä¸­å­˜å‚¨æ•°æ®ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å•å…ƒç»“æ„ä½“ã€‚

```rust
struct Electron;

fn main() {
  let x = Electron;
}
```
