<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Rust Programming Language Tutorials for Everyone!">
  <meta name="author" content="Dumindu Madunuwan">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#101010" media="(prefers-color-scheme: dark)">
  <title>Cargo, Crates and Basic Project Structure ¬∑ Learning Rust</title>
  <link rel="canonical" href="https://learning-rust.github.io/docs/cargo-crates-and-basic-project-structure/">
  <link rel="stylesheet" href="/assets/css/docs.min.8e9408609771a441499aa5571a4585b0ca95783b842d5c758af5eef1457b0fe0.css" integrity="">

  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/favicon/favicon.ico">
  <link rel="icon" href="/favicon/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="icon" href="/favicon/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="/favicon/apple-touch-icon.png" sizes="180x180">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FZHQCXSZ89"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FZHQCXSZ89');
  </script>
</head>

<body>

<div id="outer-wrapper">

  <div id="aside-wrapper">
    <aside>
      <div>
        <button class="btn"><i>‚ùå</i>Close</button>
      </div>

      <a href="https://learning-rust.github.io/" class="site-logo">Learning Rust</a>

      <nav role="navigation">
        <details open>
          <summary>Documentation</summary>
          <ul>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/overview/">Overview</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Basics</summary>
          <ul>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/why-rust/">Why Rust?</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/installation/">Installation</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/hello-world/">Hello World</a>
            </li>
            <li>
              <a class="active" href="https://learning-rust.github.io/docs/cargo-crates-and-basic-project-structure/">Cargo, Crates and Basic Project Structure</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/comments-and-documenting-the-code/">Comments and Documenting the code</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/variable-bindings-constants-and-statics/">Variable bindings, Constants and Statics</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/functions/">Functions</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/primitive-data-types/">Primitive Data Types</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/operators/">Operators</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/control-flows/">Control Flows</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Beyond The Basics</summary>
          <ul>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/vectors/">Vectors</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/structs/">Structs</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/enums/">Enums</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/generics/">Generics</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/impls-and-traits/">Impls and Traits</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>The Tough Part</summary>
          <ul>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/ownership/">Ownership</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/borrowing/">Borrowing</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/lifetimes/">Lifetimes</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Let&#39;s Get It Started</summary>
          <ul>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/code-organization/">Code Organization</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/functions-02/">Functions (02)</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/modules/">Modules</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/crates/">Crates</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/workspaces/">Workspaces</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/use/">Use</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/std-primitives-and-preludes/">STD, Primitives and Preludes</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Error Handling</summary>
          <ul>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/smart-compiler/">Smart Compiler</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/panicking/">Panicking</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/option-and-result/">Option and Result</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/unwrap-and-expect/">Unwrap and Expect</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/error-and-none-propagation/">Error and None Propagation</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/combinators/">Combinators</a>
            </li>
            <li>
              <a class="" href="https://learning-rust.github.io/docs/custom-error-types/">Custom Error Types</a>
            </li>
            </ul>
        </details>
        
      </nav>
    </aside>
  </div>

  <div id="content-wrapper">
    <header>
      <a href="https://learning-rust.github.io/" class="site-logo">Learning Rust</a>
    </header>

    <main>
      <article>
        <nav>
          <button class="btn"><i>‚¨ÖÔ∏è</i> On this section</button>
          <button class="btn">On this page <i>‚û°Ô∏è</i></button>
        </nav>
        <header>
          <h1>Cargo, Crates and Basic Project Structure</h1>
          <p></p>
        </header>
        <div id="article-body">
          <h2 id="cargo">Cargo</h2>
<p>Cargo is Rust‚Äôs built-in package manager and build system. It also supports the following actions,</p>
<table>
  <thead>
      <tr>
          <th>Command</th>
          <th>Action</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>cargo new</code></td>
          <td>Create a new project</td>
      </tr>
      <tr>
          <td><code>cargo init</code></td>
          <td>Create a new project in an existing directory</td>
      </tr>
      <tr>
          <td><code>cargo check</code></td>
          <td>Verify the project compiles without errors</td>
      </tr>
      <tr>
          <td><code>cargo build</code></td>
          <td>Build the executable</td>
      </tr>
      <tr>
          <td><code>cargo run</code></td>
          <td>Build the executable and run</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>üí° The <code>cargo check</code> command verifies that the project compiles without errors, without producing an executable.
Thus, it is often faster than <code>cargo build</code>.</p></blockquote>
<blockquote>
<p>üí° Cargo places executables compiled with <code>cargo build</code> or <code>cargo run</code> in the <code>target/debug/</code> directory.
But, while those built with <strong><code>cargo build --release</code></strong> for release purposes are stored in <code>target/release/</code> directory.
Release builds use more optimizations and remove some runtime safety checks to increase performance, although this comes at the cost of longer compile time.</p></blockquote>
<table>
  <thead>
      <tr>
          <th>Command</th>
          <th>Action</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>cargo add</code></td>
          <td>Add a dependency crate to the project</td>
      </tr>
      <tr>
          <td><code>cargo remove</code></td>
          <td>Remove a dependency crate from the project</td>
      </tr>
      <tr>
          <td><code>cargo fetch</code></td>
          <td>Download the dependencies specified in Cargo.lock</td>
      </tr>
      <tr>
          <td><code>cargo update</code></td>
          <td>Update project dependencies</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>üí° A crate is a package that can be shared via <a href="https://crates.io">crates.io</a>, Rust community‚Äôs crate registry.
<code>cargo add</code>, <code>cargo remove</code>, <code>cargo fetch</code>, and <code>cargo update</code> commands manage project dependencies through the crate hosted on crates.io.</p></blockquote>
<blockquote>
<p>üí° The <code>cargo add</code> command includes a specified crate in the <code>[dependencies]</code> section of <code>Cargo.toml</code>, while <code>cargo add --dev</code> adds a crate to the <code>[dev-dependencies]</code> section. This indicates that the crate is only used for development purposes like testing and will not be included in the final compiled code.</p></blockquote>
<table>
  <thead>
      <tr>
          <th>Command</th>
          <th>Action</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>cargo test</code></td>
          <td>Run tests</td>
      </tr>
      <tr>
          <td><code>cargo bench</code></td>
          <td>Run benchmarks</td>
      </tr>
      <tr>
          <td><code>cargo doc</code></td>
          <td>Generate the project documentation via <a href="https://doc.rust-lang.org/stable/rustdoc/">rustdoc</a></td>
      </tr>
  </tbody>
</table>
<p>In addition, there are <code>cargo</code> commands to publish the project as a crate to <a href="https://crates.io/">crates.io</a>.</p>
<table>
  <thead>
      <tr>
          <th>Command</th>
          <th>Action</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>cargo login</code></td>
          <td>Login to <a href="https://crates.io/">crates.io</a> with the API token</td>
      </tr>
      <tr>
          <td><code>cargo package</code></td>
          <td>Make the local crate uploadable to <a href="https://crates.io/">crates.io</a></td>
      </tr>
      <tr>
          <td><code>cargo publish</code></td>
          <td>Upload the crate to <a href="https://crates.io/">crates.io</a></td>
      </tr>
      <tr>
          <td><code>cargo install</code></td>
          <td>Install a Rust binary</td>
      </tr>
      <tr>
          <td><code>cargo uninstall</code></td>
          <td>Uninstall a Rust binary</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>üí° You need to get an API token from <a href="https://crates.io/">crates.io</a> to publish a crate to it. The API token can be found in the <a href="https://crates.io/me">Account Settings page</a>, after login to that site. We will discuss more about this under <a href="/docs/crates#c-using-cratesio">code organization with crates</a>.</p></blockquote>
<h2 id="crate">Crate</h2>
<ul>
<li>
<p>A crate is a package, which can be shared via Rust community‚Äôs crate registry, <a href="https://crates.io/">crates.io</a>.</p>
</li>
<li>
<p>A crate can produce an executable or a library. In other words, it can be a <strong>binary</strong> crate or a <strong>library</strong> crate.</p>
<ol>
<li><code>cargo new crate_name --bin</code> or <code>cargo new crate_name</code>: Produces an executable</li>
<li><code>cargo new crate_name --lib</code>: Produces a library</li>
</ol>
</li>
</ul>
<p>The first one generates,</p>
<pre tabindex="0"><code>‚îú‚îÄ‚îÄ Cargo.toml
‚îî‚îÄ‚îÄ src
    ‚îî‚îÄ‚îÄ main.rs
</code></pre><p>and the second one generates,</p>
<pre tabindex="0"><code>‚îú‚îÄ‚îÄ Cargo.toml
‚îî‚îÄ‚îÄ src
    ‚îî‚îÄ‚îÄ lib.rs
</code></pre><ul>
<li><strong>Cargo.toml</strong>(capital c) is the configuration file which contains all of the metadata that Cargo needs to compile your project.</li>
<li><strong>src</strong> folder is the place to store the source code.</li>
<li>Each crate has an implicit crate root/ entry point. <strong>main.rs</strong> is the crate root for a binary crate and <strong>lib.rs</strong> is the crate root for a library crate.</li>
</ul>
<h2 id="project-structure">Project Structure</h2>
<p>This is how <a href="https://doc.rust-lang.org/cargo/guide/project-layout.html">Cargo documentation describes</a> about the recommended project layout,</p>
<pre tabindex="0"><code>.
‚îú‚îÄ‚îÄ Cargo.toml
‚îú‚îÄ‚îÄ Cargo.lock
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ main.rs
‚îÇ   ‚îú‚îÄ‚îÄ lib.rs
‚îÇ   ‚îî‚îÄ‚îÄ bin
‚îÇ       ‚îú‚îÄ‚îÄ another_executable.rs
‚îÇ       ‚îî‚îÄ‚îÄ multi_file_executable
‚îÇ           ‚îú‚îÄ‚îÄ main.rs
‚îÇ           ‚îî‚îÄ‚îÄ some_module.rs
‚îú‚îÄ‚îÄ tests
‚îÇ   ‚îî‚îÄ‚îÄ some_integration_tests.rs
‚îú‚îÄ‚îÄ benches
‚îÇ   ‚îî‚îÄ‚îÄ simple_bench.rs
‚îî‚îÄ‚îÄ examples
    ‚îî‚îÄ‚îÄ simple_example.rs
</code></pre><ul>
<li>The source code goes in the <code>src</code> directory.
<ul>
<li>The default executable file is <code>src/main.rs</code>.</li>
<li>The default library file is <code>src/lib.rs</code>.</li>
<li>Other executables can be placed in,
<ul>
<li><code>src/bin/*.rs</code></li>
<li><code>src/bin/*/main.rs</code></li>
</ul>
</li>
</ul>
</li>
<li>Integration tests go in the <code>tests</code> directory (unit tests go in each file they&rsquo;re testing).</li>
<li>Benchmarks go in the <code>benches</code> directory.</li>
<li>Examples go in the <code>examples</code> directory.</li>
</ul>
<h2 id="rust-editions">Rust Editions</h2>
<p>The language has seen a series of improvements every three years through new editions since its initial stable release in 2015, including the initial version, <strong>Rust 2015</strong>, followed by <strong>Rust 2018</strong>, and the latest, <strong>Rust 2021</strong>.</p>
<p>The <code>edition</code> key in the <code>Cargo.toml</code> file denotes the edition of the Rust compiler to be used for compiling the crate. Editions are opt-in, meaning existing crates will not see these changes until they explicitly migrate to the new edition. Rust guarantees backward compatibility between editions, allowing crates using older editions of Rust to interoperate seamlessly with those using newer versions.</p>
<p>For new projects created by <code>cargo new</code>, it will set <code>edition = &quot;2021&quot;</code> by default in the <code>Cargo.toml</code> file. For example,</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">package</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;api&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">version</span> <span class="p">=</span> <span class="s2">&#34;0.1.0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">edition</span> <span class="p">=</span> <span class="s2">&#34;2021&#34;</span>
</span></span></code></pre></div><h2 id="-before-going-to-the-next">üë®‚Äçüè´ Before going to the next&hellip;</h2>
<ul>
<li>
<p>The <code>.cargo/bin</code> directory of your home directory is the default location of Rust binaries. Not only the official binaries like <code>rustc</code>, <code>cargo</code>, <code>rustup</code>, <code>rustfmt</code>, <code>rustdoc</code>, <code>rust-analyzer</code> and also the binaries you can install via <code>cargo install</code> command, will be stored in this directory.</p>
</li>
<li>
<p>Even though the initial convention for naming crates and file names is using the <a href="https://en.wikipedia.org/wiki/Snake_case"><code>snake_case</code></a>, some crate developers are using <code>kebab-case</code> on both crates and file names. To make your code more consistent, use the initial convention <code>snake_case</code>; especially on file names.</p>
</li>
<li>
<p>Create an executable crate via <code>cargo new</code> command and run it via <code>cargo run</code>.</p>
</li>
<li>
<p>Create a library crate via <code>cargo new</code> command and run <code>cargo test</code>.</p>
</li>
</ul>

        </div>

        <footer>
          <time datetime="2024-03-10"><i>üïí</i> Updated: 2024-03-10</time>
          <a href="https://learning-rust.github.io/docs/hello-world/"><i>Ôπ§</i> Previous</a>
          <a href="https://learning-rust.github.io/docs/comments-and-documenting-the-code/">Next <i>Ôπ•</i></a>
          </footer>
      </article>

      <aside>
        <div>
          <button class="btn"><i>‚ùå</i>Close</button>
        </div>
        <strong>On this page</strong>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#cargo">Cargo</a></li>
    <li><a href="#crate">Crate</a></li>
    <li><a href="#project-structure">Project Structure</a></li>
    <li><a href="#rust-editions">Rust Editions</a></li>
    <li><a href="#-before-going-to-the-next">üë®‚Äçüè´ Before going to the next&hellip;</a></li>
  </ul>
</nav>
      </aside>
    </main>

    <footer>
      <div><i>üßë‚Äçüíª</i>Built by and copyright<a href="https://github.com/dumindu" target="_blank">Dumindu Madunuwan</a><i>üìÖ</i> 2016-2025<i>üöÄ</i> <a href="https://github.com/learning-rust" target="_blank">GitHub</a></div>
      <div>
        <button class="btn"><i>‚òÄÔ∏è</i><i>‚ÅÑ</i><i>üåë</i></button>
      </div>
    </footer>
  </div>

</div>

<div id="body-model-outer"></div>
<script type="text/javascript" src="/assets/js/docs.min.12ffdc25c0149ef34e761ee54587f2aae17affcb8375298ad2180851930cb142.js" integrity=""></script>
</body>
</html>